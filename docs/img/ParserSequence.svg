<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="699px" preserveAspectRatio="none" style="width:595px;height:699px;background:#FFFFFF;" version="1.1" viewBox="0 0 595 699" width="595px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="511.3008" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="122.6641"/><rect fill="#FFFFFF" height="455.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="259" y="153.0156"/><rect fill="#FFFFFF" height="343.7188" style="stroke:#181818;stroke-width:1.0;" width="10" x="264" y="244.0703"/><rect fill="#FFFFFF" height="273.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="269" y="287.4219"/><rect fill="#FFFFFF" height="102.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="274" y="431.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="411" y="467.0859"/><rect fill="#FFFFFF" height="16.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="529" y="332.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="529" y="379.3828"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="151" x2="151" y1="37.6094" y2="663.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="264" x2="264" y1="37.6094" y2="663.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="415.5" x2="415.5" y1="37.6094" y2="663.1406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="533.5" x2="533.5" y1="331.7266" y2="663.1406"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="121" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="128" y="26.5332">:Parser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="121" y="662.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="128" y="683.6738">:Parser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="191" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="198" y="26.5332">:CardKeywordParser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="191" y="662.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="198" y="683.6738">:CardKeywordParser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="363.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="370.5" y="26.5332">:DefaultParser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="363.5" y="662.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="370.5" y="683.6738">:DefaultParser</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="478.5" y="662.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="485.5" y="683.6738">:OptionsBuilder</text><rect fill="#FFFFFF" height="511.3008" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="122.6641"/><rect fill="#FFFFFF" height="455.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="259" y="153.0156"/><rect fill="#FFFFFF" height="343.7188" style="stroke:#181818;stroke-width:1.0;" width="10" x="264" y="244.0703"/><rect fill="#FFFFFF" height="273.3672" style="stroke:#181818;stroke-width:1.0;" width="10" x="269" y="287.4219"/><rect fill="#FFFFFF" height="102.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="274" y="431.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="411" y="467.0859"/><rect fill="#FFFFFF" height="16.2578" style="stroke:#181818;stroke-width:1.0;" width="10" x="529" y="332.7734"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="529" y="379.3828"/><path d="M352,52.6094 L352,94.6094 L480,94.6094 L480,62.6094 L470,52.6094 L352,52.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M470,52.6094 L470,62.6094 L480,62.6094 L470,52.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="358" y="71.1045">Apache Commons</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="358" y="87.4561">CLI parser</text><polygon fill="#181818" points="134,118.6641,144,122.6641,134,126.6641,138,122.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="140" y1="122.6641" y2="122.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="7" y="117.8076">User inputs as tokens</text><polygon fill="#181818" points="247,149.0156,257,153.0156,247,157.0156,251,153.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="253" y1="153.0156" y2="153.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="163" y="148.1592">parseTokens()</text><path d="M66,166.0156 L66,208.0156 L236,208.0156 L236,176.0156 L226,166.0156 L66,166.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M226,166.0156 L226,176.0156 L236,176.0156 L226,166.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="72" y="184.5107">Keyword token is not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="72" y="200.8623">passed to KeywordParser</text><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="316" y1="231.0703" y2="231.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="316" x2="316" y1="231.0703" y2="244.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="275" x2="316" y1="244.0703" y2="244.0703"/><polygon fill="#181818" points="285,240.0703,275,244.0703,285,248.0703,281,244.0703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="281" y="226.2139">handleAction()</text><line style="stroke:#181818;stroke-width:1.0;" x1="274" x2="321" y1="274.4219" y2="274.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="321" x2="321" y1="274.4219" y2="287.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="280" x2="321" y1="287.4219" y2="287.4219"/><polygon fill="#181818" points="290,283.4219,280,287.4219,290,291.4219,286,287.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="286" y="269.5654">handleAdd()</text><polygon fill="#181818" points="466.5,318.7734,476.5,322.7734,466.5,326.7734,470.5,322.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="472.5" y1="322.7734" y2="322.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="286" y="317.917">new flag-specific instance</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="478.5" y="300.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="485.5" y="321.9551">:OptionsBuilder</text><polygon fill="#181818" points="290,345.0313,280,349.0313,290,353.0313,286,349.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="533" y1="349.0313" y2="349.0313"/><polygon fill="#181818" points="517,375.3828,527,379.3828,517,383.3828,521,379.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="523" y1="379.3828" y2="379.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="286" y="374.5264">buildOptions</text><polygon fill="#181818" points="290,389.3828,280,393.3828,290,397.3828,286,393.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="533" y1="393.3828" y2="393.3828"/><line style="stroke:#A80036;stroke-width:2.0;" x1="525" x2="543" y1="384.3828" y2="402.3828"/><line style="stroke:#A80036;stroke-width:2.0;" x1="525" x2="543" y1="402.3828" y2="384.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="326" y1="418.7344" y2="418.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="418.7344" y2="431.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="431.7344" y2="431.7344"/><polygon fill="#181818" points="295,427.7344,285,431.7344,295,435.7344,291,431.7344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="291" y="413.8779">parseUsingOptions()</text><polygon fill="#181818" points="399,463.0859,409,467.0859,399,471.0859,403,467.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="405" y1="467.0859" y2="467.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="291" y="462.2295">parse()</text><polygon fill="#181818" points="295,493.4375,285,497.4375,295,501.4375,291,497.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289" x2="415" y1="497.4375" y2="497.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="301" y="492.5811">Flag values</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284" x2="326" y1="532.7891" y2="532.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="326" x2="326" y1="532.7891" y2="545.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="326" y1="545.7891" y2="545.7891"/><polygon fill="#181818" points="289,541.7891,279,545.7891,289,549.7891,285,545.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="291" y="527.9326">Parsed Command</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="321" y1="559.7891" y2="559.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321" x2="321" y1="559.7891" y2="572.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="274" x2="321" y1="572.7891" y2="572.7891"/><polygon fill="#181818" points="284,568.7891,274,572.7891,284,576.7891,280,572.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="274" x2="316" y1="586.7891" y2="586.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="316" x2="316" y1="586.7891" y2="599.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269" x2="316" y1="599.7891" y2="599.7891"/><polygon fill="#181818" points="279,595.7891,269,599.7891,279,603.7891,275,599.7891" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="167,604.7891,157,608.7891,167,612.7891,163,608.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="161" x2="263" y1="608.7891" y2="608.7891"/><polygon fill="#181818" points="11,629.9648,1,633.9648,11,637.9648,7,633.9648" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="150" y1="633.9648" y2="633.9648"/><path d="M161,621.7891 L161,647.7891 L386,647.7891 L386,631.7891 L376,621.7891 L161,621.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M376,621.7891 L376,631.7891 L386,631.7891 L376,621.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="167" y="640.2842">Parsed Command propagated back</text><!--MD5=[95a572128adcabce2c714c838f304626]
@startuml ParserSequence
autoactivate on

participant ":Parser" as parser
participant ":CardKeywordParser" as cardparser
participant ":DefaultParser" as apacheparser
participant ":OptionsBuilder" as optsbuilder

note over apacheparser
    Apache Commons
    CLI parser
end note

-> parser : User inputs as tokens
parser -> cardparser : parseTokens()
note over parser
    Keyword token is not
    passed to KeywordParser
end note

cardparser -> cardparser : handleAction()
cardparser -> cardparser : handleAdd()

create optsbuilder
cardparser -> optsbuilder : new flag-specific instance
return 
cardparser -> optsbuilder : buildOptions
return
destroy optsbuilder

cardparser -> cardparser : parseUsingOptions()

cardparser -> apacheparser : parse()
return Flag values

return Parsed Command 
return 
return 
return 

<- - parser

note right : Parsed Command propagated back

@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 SGT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: SG
--></g></svg>